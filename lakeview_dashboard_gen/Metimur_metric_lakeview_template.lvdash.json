{
    "datasets": [
        {
            "name": "8098549c",
            "displayName": "last_run_timestamp",
            "query": "select max(run_timestamp) as last_run_timestamp from CATALOG_NAME.SCHEMA_NAME.TABLE_NAME"
        },
        {
            "name": "81e3e3fa",
            "displayName": "average_duration",
            "query": "select\n    id,\n    query_text,\n    warehouse_name,\n    avg(duration) as average_duration\nfrom\n(\n    SELECT \n        duration/1000 as duration,\n        metrics.planning_time_ms/1000 as query_planning_time,\n        metrics.execution_time_ms/1000 as query_execution_time,\n        metrics.compilation_time_ms/1000 as query_compliation_time,\n        * EXCEPT(duration, metrics)\n    FROM CATALOG_NAME.SCHEMA_NAME.TABLE_NAME\n)\ngroup by 1, 2, 3"
        },
        {
            "name": "b031fedc",
            "displayName": "metimur_metrics",
            "query": "SELECT \n    duration/1000 as duration,\n    metrics.planning_time_ms/1000 as query_planning_time,\n    metrics.execution_time_ms/1000 as query_execution_time,\n    metrics.compilation_time_ms/1000 as query_compliation_time,\n    * EXCEPT(duration, metrics)\nFROM CATALOG_NAME.SCHEMA_NAME.TABLE_NAME"
        },
        {
            "name": "e9cdd9e3",
            "displayName": "benchmark_config",
            "query": "select distinct run_timestamp, concurrency, benchmark_catalog, benchmark_schema\nFROM CATALOG_NAME.SCHEMA_NAME.TABLE_NAME"
        }
    ],
    "pages": [
        {
            "name": "1a0d048d",
            "displayName": "New Page",
            "layout": [
                {
                    "widget": {
                        "name": "05409720",
                        "queries": [
                            {
                                "name": "dashboards/01eefd032f0114249bc5f60291dfed1c/datasets/01eefd14f4581e57947d9552d917f89c_warehouse_name",
                                "query": {
                                    "datasetName": "b031fedc",
                                    "fields": [
                                        {
                                            "name": "warehouse_name",
                                            "expression": "`warehouse_name`"
                                        },
                                        {
                                            "name": "warehouse_name_associativity",
                                            "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                                        }
                                    ],
                                    "disaggregated": false
                                }
                            }
                        ],
                        "spec": {
                            "version": 2,
                            "widgetType": "filter-single-select",
                            "encodings": {
                                "fields": [
                                    {
                                        "fieldName": "warehouse_name",
                                        "displayName": "warehouse_name",
                                        "queryName": "dashboards/01eefd032f0114249bc5f60291dfed1c/datasets/01eefd14f4581e57947d9552d917f89c_warehouse_name"
                                    }
                                ]
                            },
                            "frame": {
                                "showTitle": true,
                                "title": "Warehouse Configuration"
                            }
                        }
                    },
                    "position": {
                        "x": 1,
                        "y": 2,
                        "width": 1,
                        "height": 2
                    }
                },
                {
                    "widget": {
                        "name": "1b01f42d",
                        "queries": [
                            {
                                "name": "main_query",
                                "query": {
                                    "datasetName": "b031fedc",
                                    "fields": [
                                        {
                                            "name": "max(duration)",
                                            "expression": "MAX(`duration`)"
                                        }
                                    ],
                                    "disaggregated": false
                                }
                            }
                        ],
                        "spec": {
                            "version": 2,
                            "widgetType": "counter",
                            "encodings": {
                                "value": {
                                    "fieldName": "max(duration)",
                                    "displayName": "Maximum duration"
                                }
                            },
                            "frame": {
                                "showTitle": true,
                                "title": "Max Duration (sec)"
                            }
                        }
                    },
                    "position": {
                        "x": 2,
                        "y": 4,
                        "width": 2,
                        "height": 3
                    }
                },
                {
                    "widget": {
                        "name": "1df9b6bc",
                        "queries": [
                            {
                                "name": "main_query",
                                "query": {
                                    "datasetName": "b031fedc",
                                    "fields": [
                                        {
                                            "name": "avg(duration)",
                                            "expression": "AVG(`duration`)"
                                        },
                                        {
                                            "name": "id",
                                            "expression": "`id`"
                                        },
                                        {
                                            "name": "warehouse_name",
                                            "expression": "`warehouse_name`"
                                        }
                                    ],
                                    "disaggregated": false
                                }
                            }
                        ],
                        "spec": {
                            "version": 3,
                            "widgetType": "bar",
                            "encodings": {
                                "x": {
                                    "fieldName": "id",
                                    "scale": {
                                        "type": "categorical",
                                        "sort": {
                                            "by": "y-reversed"
                                        }
                                    },
                                    "axis": {
                                        "title": "Query id"
                                    },
                                    "displayName": "Query id"
                                },
                                "y": {
                                    "fieldName": "avg(duration)",
                                    "scale": {
                                        "type": "quantitative"
                                    },
                                    "axis": {
                                        "title": "Average Duration"
                                    },
                                    "displayName": "Average Duration"
                                },
                                "color": {
                                    "fieldName": "warehouse_name",
                                    "scale": {
                                        "type": "categorical"
                                    },
                                    "legend": {
                                        "position": "bottom"
                                    },
                                    "displayName": "warehouse_name"
                                }
                            },
                            "frame": {
                                "showTitle": true,
                                "title": "Query Duration Sorted"
                            },
                            "mark": {
                                "layout": "group"
                            }
                        }
                    },
                    "position": {
                        "x": 0,
                        "y": 14,
                        "width": 6,
                        "height": 8
                    }
                },
                {
                    "widget": {
                        "name": "28e8ce2c",
                        "queries": [
                            {
                                "name": "main_query",
                                "query": {
                                    "datasetName": "b031fedc",
                                    "fields": [
                                        {
                                            "name": "min(duration)",
                                            "expression": "MIN(`duration`)"
                                        }
                                    ],
                                    "disaggregated": false
                                }
                            }
                        ],
                        "spec": {
                            "version": 2,
                            "widgetType": "counter",
                            "encodings": {
                                "value": {
                                    "fieldName": "min(duration)",
                                    "displayName": "Minimum duration"
                                }
                            },
                            "frame": {
                                "showTitle": true,
                                "title": "Min Duration (sec)"
                            }
                        }
                    },
                    "position": {
                        "x": 4,
                        "y": 4,
                        "width": 2,
                        "height": 3
                    }
                },
                {
                    "widget": {
                        "name": "2904dfea",
                        "queries": [
                            {
                                "name": "main_query",
                                "query": {
                                    "datasetName": "b031fedc",
                                    "fields": [
                                        {
                                            "name": "median(duration)",
                                            "expression": "PERCENTILE(`duration`, 0.5)"
                                        }
                                    ],
                                    "disaggregated": false
                                }
                            }
                        ],
                        "spec": {
                            "version": 2,
                            "widgetType": "counter",
                            "encodings": {
                                "value": {
                                    "fieldName": "median(duration)",
                                    "displayName": "Median of duration"
                                }
                            },
                            "frame": {
                                "showTitle": true,
                                "title": "Median Duration (sec)"
                            }
                        }
                    },
                    "position": {
                        "x": 0,
                        "y": 4,
                        "width": 2,
                        "height": 3
                    }
                },
                {
                    "widget": {
                        "name": "388cda0c",
                        "queries": [
                            {
                                "name": "main_query",
                                "query": {
                                    "datasetName": "8098549c",
                                    "fields": [
                                        {
                                            "name": "last_run_timestamp",
                                            "expression": "`last_run_timestamp`"
                                        }
                                    ],
                                    "disaggregated": true
                                }
                            }
                        ],
                        "spec": {
                            "version": 2,
                            "widgetType": "counter",
                            "encodings": {
                                "value": {
                                    "fieldName": "last_run_timestamp",
                                    "displayName": "last_run_timestamp"
                                }
                            },
                            "frame": {
                                "showTitle": true,
                                "title": "Last Run Timestamp"
                            }
                        }
                    },
                    "position": {
                        "x": 4,
                        "y": 0,
                        "width": 2,
                        "height": 2
                    }
                },
                {
                    "widget": {
                        "name": "45b00b17",
                        "textbox_spec": "# Metimur Benchmark Metrics"
                    },
                    "position": {
                        "x": 0,
                        "y": 0,
                        "width": 4,
                        "height": 2
                    }
                },
                {
                    "widget": {
                        "name": "682b552a",
                        "queries": [
                            {
                                "name": "dashboards/01ef0c2c10a417dfbe1382d6ec199fbc/datasets/01ef0c3c640919678416013fc9b68edb_run_timestamp",
                                "query": {
                                    "datasetName": "b031fedc",
                                    "fields": [
                                        {
                                            "name": "run_timestamp",
                                            "expression": "`run_timestamp`"
                                        },
                                        {
                                            "name": "run_timestamp_associativity",
                                            "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                                        }
                                    ],
                                    "disaggregated": false
                                }
                            }
                        ],
                        "spec": {
                            "version": 2,
                            "widgetType": "filter-single-select",
                            "encodings": {
                                "fields": [
                                    {
                                        "fieldName": "run_timestamp",
                                        "displayName": "run_timestamp",
                                        "queryName": "dashboards/01ef0c2c10a417dfbe1382d6ec199fbc/datasets/01ef0c3c640919678416013fc9b68edb_run_timestamp"
                                    }
                                ]
                            },
                            "frame": {
                                "showTitle": true,
                                "title": "Benchmark Run Timestamp"
                            }
                        }
                    },
                    "position": {
                        "x": 0,
                        "y": 2,
                        "width": 1,
                        "height": 2
                    }
                },
                {
                    "widget": {
                        "name": "758ef57f",
                        "queries": [
                            {
                                "name": "main_query",
                                "query": {
                                    "datasetName": "e9cdd9e3",
                                    "fields": [
                                        {
                                            "name": "benchmark_catalog",
                                            "expression": "`benchmark_catalog`"
                                        },
                                        {
                                            "name": "benchmark_schema",
                                            "expression": "`benchmark_schema`"
                                        },
                                        {
                                            "name": "concurrency",
                                            "expression": "`concurrency`"
                                        }
                                    ],
                                    "disaggregated": true
                                }
                            }
                        ],
                        "spec": {
                            "version": 1,
                            "widgetType": "table",
                            "encodings": {
                                "columns": [
                                    {
                                        "fieldName": "concurrency",
                                        "numberFormat": "0",
                                        "booleanValues": [
                                            "false",
                                            "true"
                                        ],
                                        "imageUrlTemplate": "{{ @ }}",
                                        "imageTitleTemplate": "{{ @ }}",
                                        "imageWidth": "",
                                        "imageHeight": "",
                                        "linkUrlTemplate": "{{ @ }}",
                                        "linkTextTemplate": "{{ @ }}",
                                        "linkTitleTemplate": "{{ @ }}",
                                        "linkOpenInNewTab": true,
                                        "type": "integer",
                                        "displayAs": "number",
                                        "visible": true,
                                        "order": 100001,
                                        "title": "concurrency",
                                        "allowSearch": false,
                                        "alignContent": "center",
                                        "allowHTML": false,
                                        "highlightLinks": false,
                                        "useMonospaceFont": false,
                                        "preserveWhitespace": false,
                                        "cellFormat": {
                                            "default": {
                                                "foregroundColor": null
                                            },
                                            "rules": []
                                        },
                                        "displayName": "concurrency"
                                    },
                                    {
                                        "fieldName": "benchmark_catalog",
                                        "booleanValues": [
                                            "false",
                                            "true"
                                        ],
                                        "imageUrlTemplate": "{{ @ }}",
                                        "imageTitleTemplate": "{{ @ }}",
                                        "imageWidth": "",
                                        "imageHeight": "",
                                        "linkUrlTemplate": "{{ @ }}",
                                        "linkTextTemplate": "{{ @ }}",
                                        "linkTitleTemplate": "{{ @ }}",
                                        "linkOpenInNewTab": true,
                                        "type": "string",
                                        "displayAs": "string",
                                        "visible": true,
                                        "order": 100002,
                                        "title": "benchmark_catalog",
                                        "allowSearch": false,
                                        "alignContent": "center",
                                        "allowHTML": false,
                                        "highlightLinks": false,
                                        "useMonospaceFont": false,
                                        "preserveWhitespace": false,
                                        "displayName": "benchmark_catalog"
                                    },
                                    {
                                        "fieldName": "benchmark_schema",
                                        "booleanValues": [
                                            "false",
                                            "true"
                                        ],
                                        "imageUrlTemplate": "{{ @ }}",
                                        "imageTitleTemplate": "{{ @ }}",
                                        "imageWidth": "",
                                        "imageHeight": "",
                                        "linkUrlTemplate": "{{ @ }}",
                                        "linkTextTemplate": "{{ @ }}",
                                        "linkTitleTemplate": "{{ @ }}",
                                        "linkOpenInNewTab": true,
                                        "type": "string",
                                        "displayAs": "string",
                                        "visible": true,
                                        "order": 100003,
                                        "title": "benchmark_schema",
                                        "allowSearch": false,
                                        "alignContent": "center",
                                        "allowHTML": false,
                                        "highlightLinks": false,
                                        "useMonospaceFont": false,
                                        "preserveWhitespace": false,
                                        "displayName": "benchmark_schema"
                                    }
                                ]
                            },
                            "invisibleColumns": [
                                {
                                    "dateTimeFormat": "YYYY-MM-DD HH:mm:ss.SSS",
                                    "booleanValues": [
                                        "false",
                                        "true"
                                    ],
                                    "imageUrlTemplate": "{{ @ }}",
                                    "imageTitleTemplate": "{{ @ }}",
                                    "imageWidth": "",
                                    "imageHeight": "",
                                    "linkUrlTemplate": "{{ @ }}",
                                    "linkTextTemplate": "{{ @ }}",
                                    "linkTitleTemplate": "{{ @ }}",
                                    "linkOpenInNewTab": true,
                                    "name": "run_timestamp",
                                    "type": "datetime",
                                    "displayAs": "datetime",
                                    "order": 100000,
                                    "title": "run_timestamp",
                                    "allowSearch": false,
                                    "alignContent": "right",
                                    "allowHTML": false,
                                    "highlightLinks": false,
                                    "useMonospaceFont": false,
                                    "preserveWhitespace": false
                                }
                            ],
                            "allowHTMLByDefault": false,
                            "itemsPerPage": 5,
                            "paginationSize": "default",
                            "condensed": true,
                            "withRowNumber": false,
                            "frame": {
                                "showTitle": true,
                                "title": "Run Configuration"
                            }
                        }
                    },
                    "position": {
                        "x": 2,
                        "y": 2,
                        "width": 3,
                        "height": 2
                    }
                },
                {
                    "widget": {
                        "name": "84f79be4",
                        "queries": [
                            {
                                "name": "main_query",
                                "query": {
                                    "datasetName": "b031fedc",
                                    "fields": [
                                        {
                                            "name": "avg(query_compliation_time)",
                                            "expression": "AVG(`query_compliation_time`)"
                                        },
                                        {
                                            "name": "avg(query_execution_time)",
                                            "expression": "AVG(`query_execution_time`)"
                                        },
                                        {
                                            "name": "avg(query_planning_time)",
                                            "expression": "AVG(`query_planning_time`)"
                                        },
                                        {
                                            "name": "id",
                                            "expression": "`id`"
                                        }
                                    ],
                                    "disaggregated": false
                                }
                            }
                        ],
                        "spec": {
                            "version": 3,
                            "widgetType": "bar",
                            "encodings": {
                                "x": {
                                    "fieldName": "id",
                                    "scale": {
                                        "type": "categorical",
                                        "sort": {
                                            "by": "natural-order"
                                        }
                                    },
                                    "axis": {
                                        "title": "Query ID"
                                    },
                                    "displayName": "Query ID"
                                },
                                "y": {
                                    "scale": {
                                        "type": "quantitative"
                                    },
                                    "fields": [
                                        {
                                            "fieldName": "avg(query_planning_time)",
                                            "displayName": "Average query_planning_time"
                                        },
                                        {
                                            "fieldName": "avg(query_compliation_time)",
                                            "displayName": "Average query_compliation_time"
                                        },
                                        {
                                            "fieldName": "avg(query_execution_time)",
                                            "displayName": "Average query_execution_time"
                                        }
                                    ],
                                    "axis": {
                                        "title": "Percentage of Total Duration"
                                    }
                                },
                                "color": {
                                    "legend": {
                                        "position": "bottom"
                                    }
                                }
                            },
                            "frame": {
                                "showTitle": true,
                                "title": "Query Duration Break Down"
                            },
                            "mark": {
                                "layout": "percent-stack"
                            }
                        }
                    },
                    "position": {
                        "x": 0,
                        "y": 35,
                        "width": 6,
                        "height": 8
                    }
                },
                {
                    "widget": {
                        "name": "8c94b595",
                        "queries": [
                            {
                                "name": "dashboards/01ef0c2c10a417dfbe1382d6ec199fbc/datasets/01ef0c3c640919678416013fc9b68edb_id",
                                "query": {
                                    "datasetName": "b031fedc",
                                    "fields": [
                                        {
                                            "name": "id",
                                            "expression": "`id`"
                                        },
                                        {
                                            "name": "id_associativity",
                                            "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                                        }
                                    ],
                                    "disaggregated": false
                                }
                            }
                        ],
                        "spec": {
                            "version": 2,
                            "widgetType": "filter-single-select",
                            "encodings": {
                                "fields": [
                                    {
                                        "fieldName": "id",
                                        "displayName": "id",
                                        "queryName": "dashboards/01ef0c2c10a417dfbe1382d6ec199fbc/datasets/01ef0c3c640919678416013fc9b68edb_id"
                                    }
                                ]
                            },
                            "frame": {
                                "showTitle": true,
                                "title": "Query"
                            }
                        }
                    },
                    "position": {
                        "x": 5,
                        "y": 2,
                        "width": 1,
                        "height": 2
                    }
                },
                {
                    "widget": {
                        "name": "985db04c",
                        "queries": [
                            {
                                "name": "main_query",
                                "query": {
                                    "datasetName": "b031fedc",
                                    "fields": [
                                        {
                                            "name": "bin(duration, binWidth=0.1)",
                                            "expression": "BIN_FLOOR(`duration`, 0.1)"
                                        },
                                        {
                                            "name": "count(*)",
                                            "expression": "COUNT(`*`)"
                                        },
                                        {
                                            "name": "warehouse_name",
                                            "expression": "`warehouse_name`"
                                        }
                                    ],
                                    "disaggregated": false
                                }
                            }
                        ],
                        "spec": {
                            "version": 3,
                            "widgetType": "histogram",
                            "encodings": {
                                "x": {
                                    "fieldName": "bin(duration, binWidth=0.1)",
                                    "scale": {
                                        "type": "quantitative"
                                    },
                                    "axis": {
                                        "title": "Duration"
                                    },
                                    "displayName": "Duration"
                                },
                                "y": {
                                    "fieldName": "count(*)",
                                    "scale": {
                                        "type": "quantitative"
                                    },
                                    "axis": {
                                        "title": "Query Count"
                                    },
                                    "displayName": "Query Count"
                                },
                                "color": {
                                    "fieldName": "warehouse_name",
                                    "scale": {
                                        "type": "categorical"
                                    },
                                    "legend": {
                                        "position": "bottom"
                                    },
                                    "displayName": "warehouse_name"
                                },
                                "label": {
                                    "show": false
                                }
                            },
                            "frame": {
                                "showTitle": true,
                                "title": "Duration Distribution"
                            }
                        }
                    },
                    "position": {
                        "x": 0,
                        "y": 7,
                        "width": 6,
                        "height": 7
                    }
                },
                {
                    "widget": {
                        "name": "c802fd2b",
                        "queries": [
                            {
                                "name": "main_query",
                                "query": {
                                    "datasetName": "81e3e3fa",
                                    "fields": [
                                        {
                                            "name": "average_duration",
                                            "expression": "`average_duration`"
                                        },
                                        {
                                            "name": "id",
                                            "expression": "`id`"
                                        },
                                        {
                                            "name": "query_text",
                                            "expression": "`query_text`"
                                        },
                                        {
                                            "name": "warehouse_name",
                                            "expression": "`warehouse_name`"
                                        }
                                    ],
                                    "disaggregated": true
                                }
                            }
                        ],
                        "spec": {
                            "version": 1,
                            "widgetType": "table",
                            "encodings": {
                                "columns": [
                                    {
                                        "fieldName": "id",
                                        "booleanValues": [
                                            "false",
                                            "true"
                                        ],
                                        "imageUrlTemplate": "{{ @ }}",
                                        "imageTitleTemplate": "{{ @ }}",
                                        "imageWidth": "",
                                        "imageHeight": "",
                                        "linkUrlTemplate": "{{ @ }}",
                                        "linkTextTemplate": "{{ @ }}",
                                        "linkTitleTemplate": "{{ @ }}",
                                        "linkOpenInNewTab": true,
                                        "type": "string",
                                        "displayAs": "string",
                                        "visible": true,
                                        "order": 0,
                                        "title": "id",
                                        "allowSearch": false,
                                        "alignContent": "left",
                                        "allowHTML": false,
                                        "highlightLinks": false,
                                        "useMonospaceFont": false,
                                        "preserveWhitespace": false,
                                        "displayName": "id"
                                    },
                                    {
                                        "fieldName": "query_text",
                                        "booleanValues": [
                                            "false",
                                            "true"
                                        ],
                                        "imageUrlTemplate": "{{ @ }}",
                                        "imageTitleTemplate": "{{ @ }}",
                                        "imageWidth": "",
                                        "imageHeight": "",
                                        "linkUrlTemplate": "{{ @ }}",
                                        "linkTextTemplate": "{{ @ }}",
                                        "linkTitleTemplate": "{{ @ }}",
                                        "linkOpenInNewTab": true,
                                        "type": "string",
                                        "displayAs": "string",
                                        "visible": true,
                                        "order": 1,
                                        "title": "query_text",
                                        "allowSearch": false,
                                        "alignContent": "left",
                                        "allowHTML": false,
                                        "highlightLinks": false,
                                        "useMonospaceFont": false,
                                        "preserveWhitespace": false,
                                        "displayName": "query_text"
                                    },
                                    {
                                        "fieldName": "average_duration",
                                        "numberFormat": "0.00",
                                        "booleanValues": [
                                            "false",
                                            "true"
                                        ],
                                        "imageUrlTemplate": "{{ @ }}",
                                        "imageTitleTemplate": "{{ @ }}",
                                        "imageWidth": "",
                                        "imageHeight": "",
                                        "linkUrlTemplate": "{{ @ }}",
                                        "linkTextTemplate": "{{ @ }}",
                                        "linkTitleTemplate": "{{ @ }}",
                                        "linkOpenInNewTab": true,
                                        "type": "float",
                                        "displayAs": "number",
                                        "visible": true,
                                        "order": 2,
                                        "title": "average_duration",
                                        "allowSearch": false,
                                        "alignContent": "center",
                                        "allowHTML": false,
                                        "highlightLinks": false,
                                        "useMonospaceFont": false,
                                        "preserveWhitespace": false,
                                        "displayName": "average_duration"
                                    },
                                    {
                                        "fieldName": "warehouse_name",
                                        "booleanValues": [
                                            "false",
                                            "true"
                                        ],
                                        "imageUrlTemplate": "{{ @ }}",
                                        "imageTitleTemplate": "{{ @ }}",
                                        "imageWidth": "",
                                        "imageHeight": "",
                                        "linkUrlTemplate": "{{ @ }}",
                                        "linkTextTemplate": "{{ @ }}",
                                        "linkTitleTemplate": "{{ @ }}",
                                        "linkOpenInNewTab": true,
                                        "type": "string",
                                        "displayAs": "string",
                                        "visible": true,
                                        "order": 3,
                                        "title": "warehouse_name",
                                        "allowSearch": false,
                                        "alignContent": "center",
                                        "allowHTML": false,
                                        "highlightLinks": false,
                                        "useMonospaceFont": false,
                                        "preserveWhitespace": false,
                                        "displayName": "warehouse_name"
                                    }
                                ]
                            },
                            "invisibleColumns": [],
                            "allowHTMLByDefault": false,
                            "itemsPerPage": 10,
                            "paginationSize": "default",
                            "condensed": false,
                            "withRowNumber": false,
                            "frame": {
                                "showTitle": true,
                                "title": "Query Details and Warehouse Configuation",
                                "showDescription": false
                            }
                        }
                    },
                    "position": {
                        "x": 0,
                        "y": 22,
                        "width": 6,
                        "height": 13
                    }
                }
            ]
        }
    ]
}